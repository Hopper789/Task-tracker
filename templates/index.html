<!DOCTYPE html>
<html lang="ru" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <title>Habit Tracker 2026</title>
    <!-- –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { 
            background-color: #0b0e14; 
            color: #f0f0f0; 
            letter-spacing: 0.5px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            padding-top: 40px;
        }
        .habit-name { 
            font-size: 1.8rem; 
            font-weight: 300; 
            color: #ffffff; 
            margin-bottom: 10px;
        }
        .card { 
            background-color: #161b22; 
            border: 1px solid #30363d; 
            border-radius: 20px; 
            padding: 25px; 
            margin-bottom: 25px; 
            transition: all 0.3s ease;
        }
        .card:hover { 
            border-color: #39d353;
            box-shadow: 0 0 15px rgba(57, 211, 83, 0.2);
            transform: translateY(-2px);
        }
        .dot { 
            width: 16px; 
            height: 16px; 
            border-radius: 50%; 
            display: inline-block; 
            margin-right: 10px;
            transition: all 0.3s ease;
        }
        .dot-done { 
            background-color: #39d353; 
            box-shadow: 0 0 12px rgba(57, 211, 83, 0.6);
        }
        .dot-empty { 
            background-color: #21262d; 
            border: 2px solid #30363d;
        }
        .btn-success { 
            background-color: #238636; 
            border: none;
            font-weight: 500;
            padding: 10px 25px;
            border-radius: 50px;
        }
        .btn-success:hover {
            background-color: #2ea043;
            transform: scale(1.05);
        }
        .btn-outline-secondary {
            border: 2px solid #30363d;
            color: #8b949e;
            padding: 10px 25px;
            border-radius: 50px;
        }
        .btn-outline-secondary:hover {
            border-color: #39d353;
            color: #39d353;
            background-color: transparent;
        }
        .text-silver { 
            color: #d1d1d1 !important; 
            font-weight: 300; 
            text-decoration: none;
            border-bottom: 1px solid #333;
            transition: all 0.3s ease;
            padding-bottom: 2px;
        }
        .text-silver:hover {
            color: #39d353 !important;
            border-bottom-color: #39d353;
        }
        .mini-dots {
            margin-top: 10px;
        }
        .form-control {
            background-color: #0d1117;
            border: 2px solid #30363d;
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
        }
        .form-control:focus {
            background-color: #0d1117;
            border-color: #39d353;
            color: white;
            box-shadow: 0 0 0 0.25rem rgba(57, 211, 83, 0.25);
        }
        .input-group {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            border-radius: 50px;
            overflow: hidden;
        }
        .btn-primary {
            background-color: #1f6feb;
            border: none;
            padding: 15px 40px;
            border-radius: 0 50px 50px 0;
        }
        .btn-primary:hover {
            background-color: #2b7deb;
        }
    </style>
</head>
<body>
<div class="container py-4">
    <h1 class="text-center mb-5 fw-light display-3 text-white">–¢—Ä–µ–∫–µ—Ä –ü—Ä–∏–≤—ã—á–µ–∫</h1>
    <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
            <form action="/add" method="POST" class="mb-5">
                <div class="input-group input-group-lg shadow-lg">
                    <input type="text" name="name" class="form-control border-0" 
                           placeholder="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É..." required>
                    <button class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </form>
            
            {% if habits %}
                {% for habit in habits %}
                <div class="card shadow-lg">
                    <div class="d-flex align-items-center justify-content-between flex-wrap">
                        <div class="flex-grow-1 mb-3 mb-md-0">
                            <div class="mb-3">
                                <span class="habit-name">{{ habit.name }}</span>
                            </div>
                            
                            <div class="d-flex align-items-center mb-3">
                                <div class="mini-dots">
                                    {% for day_status in habit.mini_history %}
                                        <span class="dot {% if day_status %}dot-done{% else %}dot-empty{% endif %}" 
                                              title="–î–µ–Ω—å {{ loop.index }}: {% if day_status %}–í—ã–ø–æ–ª–Ω–µ–Ω–æ{% else %}–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ{% endif %}"></span>
                                    {% endfor %}
                                </div>
                                <small class="text-muted ms-3">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –¥–Ω–µ–π</small>
                            </div>
                            
                            <div>
                                <a href="{{ url_for('history', habit_id=habit.id) }}" class="text-silver">
                                    üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí
                                </a>
                            </div>
                        </div>
                        
                        <a href="{{ url_for('toggle_today', habit_id=habit.id) }}" 
                           class="btn btn-lg {% if habit.done_today %}btn-success{% else %}btn-outline-secondary{% endif %}">
                            {% if habit.done_today %}‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è{% else %}–û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ{% endif %}
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="card text-center py-5">
                    <h3 class="text-muted mb-3">–ù–µ—Ç –ø—Ä–∏–≤—ã—á–µ–∫</h3>
                    <p class="text-muted">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º—É –≤—ã—à–µ</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Bootstrap JS (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>